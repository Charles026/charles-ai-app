/* Tailwind CSS v4 导入 */
@import "tailwindcss/preflight" layer(base);
@tailwind utilities;

/* 自定义全局样式 */
@layer base {
  :root {
    /* 主题色 */
    --primary-color: #1677ff;
    --success-color: #52c41a;
    --warning-color: #faad14;
    --error-color: #ff4d4f;
    
    /* 文字颜色 */
    --text-primary: #1f2937;
    --text-secondary: #4b5563;
    --text-disabled: #9ca3af;
    
    /* 背景色 */
    --bg-primary: #ffffff;
    --bg-secondary: #f3f4f6;
    --bg-tertiary: #e5e7eb;
    
    /* 边框颜色 */
    --border-color: #e5e7eb;
    
    /* 阴影 */
    --shadow-sm: 0 1px 2px 0 rgb(0 0 0 / 0.05);
    --shadow: 0 1px 3px 0 rgb(0 0 0 / 0.1), 0 1px 2px -1px rgb(0 0 0 / 0.1);
    --shadow-md: 0 4px 6px -1px rgb(0 0 0 / 0.1), 0 2px 4px -2px rgb(0 0 0 / 0.1);
    
    /* 圆角 */
    --radius-sm: 0.25rem;
    --radius: 0.375rem;
    --radius-md: 0.5rem;
    --radius-lg: 0.75rem;
    
    /* 间距 */
    --spacing-1: 0.25rem;
    --spacing-2: 0.5rem;
    --spacing-3: 0.75rem;
    --spacing-4: 1rem;
    --spacing-6: 1.5rem;
    --spacing-8: 2rem;

    /* Charles 主题专用颜色 */
    --tc-color-text-primary: #1f2937;
    --tc-color-background-base: #ffffff;
  }

  /* 深色模式变量 */
  .dark {
    --text-primary: #f9fafb;
    --text-secondary: #d1d5db;
    --text-disabled: #6b7280;
    
    --bg-primary: #111827;
    --bg-secondary: #1f2937;
    --bg-tertiary: #374151;
    
    --border-color: #374151;

    /* Charles 主题专用颜色 - 深色模式 */
    --tc-color-text-primary: #f9fafb;
    --tc-color-background-base: #111827;
  }

  /* 基础样式重置 */
  html,
  body {
    background-color: var(--bg-primary);
    color: var(--text-primary);
    font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", sans-serif;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
    overscroll-behavior: none;
    min-height: 100vh;
  }

  * {
    box-sizing: border-box;
  }
}

/* 自定义组件类 */
@layer components {
  /* 按钮基础样式 */
  .btn {
    @apply px-4 py-2 rounded-md font-medium transition-colors duration-200;
  }
  
  .btn-primary {
    @apply btn bg-[var(--primary-color)] text-white hover:bg-[color-mix(in_srgb,var(--primary-color),#000_10%)];
  }
  
  .btn-secondary {
    @apply btn bg-[var(--bg-secondary)] text-[var(--text-primary)] hover:bg-[var(--bg-tertiary)];
  }
  
  /* 卡片样式 */
  .card {
    @apply bg-[var(--bg-primary)] rounded-[var(--radius)] shadow-[var(--shadow)] p-6 border border-[var(--border-color)];
  }
  
  /* 输入框样式 */
  .input {
    @apply px-3 py-2 border border-[var(--border-color)] rounded-[var(--radius)] bg-[var(--bg-primary)] text-[var(--text-primary)]
           focus:outline-none focus:ring-2 focus:ring-[var(--primary-color)] focus:ring-opacity-50;
  }
  
  /* 标题样式 */
  .title-lg {
    @apply text-3xl font-bold text-[var(--text-primary)];
  }
  
  .title-md {
    @apply text-2xl font-semibold text-[var(--text-primary)];
  }
  
  .title-sm {
    @apply text-xl font-semibold text-[var(--text-primary)];
  }
}

/* 工具类 */
@layer utilities {
  .text-balance {
    text-wrap: balance;
  }
  
  .flex-center {
    @apply flex items-center justify-center;
  }
  
  .grid-center {
    @apply grid place-items-center;
  }
  
  .absolute-center {
    @apply absolute top-1/2 left-1/2 -translate-x-1/2 -translate-y-1/2;
  }

  /* 动画类 */
  .animate-fade-in {
    animation: fadeIn 0.6s ease-in-out;
  }

  @keyframes fadeIn {
    from {
      opacity: 0;
      transform: translateY(20px);
    }
    to {
      opacity: 1;
      transform: translateY(0);
    }
  }

  /* 自定义滚动条 */
  .custom-scrollbar::-webkit-scrollbar {
    width: 6px;
  }

  .custom-scrollbar::-webkit-scrollbar-track {
    background: var(--bg-secondary);
  }

  .custom-scrollbar::-webkit-scrollbar-thumb {
    background: var(--border-color);
    border-radius: 3px;
  }

  .custom-scrollbar::-webkit-scrollbar-thumb:hover {
    background: var(--text-disabled);
  }

  /* 选择高亮 */
  ::selection {
    background: var(--primary-color);
    color: white;
  }

  ::-moz-selection {
    background: var(--primary-color);
    color: white;
  }

  /* 骨架屏动画 */
  .skeleton {
    background: linear-gradient(90deg, #f0f0f0 25%, #e0e0e0 50%, #f0f0f0 75%);
    background-size: 200% 100%;
    animation: shimmer 1.5s infinite;
  }

  .dark .skeleton {
    background: linear-gradient(90deg, #374151 25%, #4b5563 50%, #374151 75%);
    background-size: 200% 100%;
  }

  @keyframes shimmer {
    0% {
      background-position: -200% 0;
    }
    100% {
      background-position: 200% 0;
    }
  }
}